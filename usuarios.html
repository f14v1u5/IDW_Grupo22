<!DOCTYPE html>
<html lang="es" data-bs-theme="light">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Usuarios</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="estilos/estilos.css" />
    </head>

    <body>
        <header>
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
                <div class="container">
                    <a class="navbar-brand" href="/index.html">
                        <img src="img/logo_blanco_nav.png" alt="Clínica La Concordia" height="40">
                    </a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <button id="tema" class="btn btn-outline-light ms-3"></button>
                    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="index.html">Home</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <main class="container mt-5 pt-5">
            <section id="usuarios" class="pt-4">
                <div class="text-center mb-5">
                    <h2 class="mb-3 text-dark">Usuarios Logueados</h2>
                </div>

                <div class="table-responsive shadow-sm border rounded">
                    <table class="table table-striped mb-0">
                        <thead class="table-dark text-white">
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Usuario</th>
                                <th>Email</th>
                                <th>Telefono</th>
                                <th>Edad</th>
                                <th>Ciudad</th>
                            </tr>
                        </thead>
                        <tbody id="tablaUsuarios"></tbody>
                    </table>
                </div>
                <button id="btn-logout" class="mt-2 me-2 btn btn-danger float-end">Cerrar Sesión</button>
            </section>
        </main>


        <footer class="footer bg-light text-dark mt-5 py-4">
                <div class="text-center mt-3">
                <p>&copy; 2025 Clínica La Concordia. Todos los derechos reservados.</p>
                </div>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="/js/dark.js"></script>
        <script src="/js/login.js"></script>
        <script src="/js/usuarios.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', () =>{
                if(!estaLogueado()) {
                    window.location.href = "index.html";
                    return
                }

                cargaUsuarios();

                const botonLogout = document.getElementById("btn-logout");
                if(botonLogout){
                    botonLogout.addEventListener('click', logout);
                }
            });
        </script>
    </body>
</html>